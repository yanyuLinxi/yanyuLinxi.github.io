---
title: "算法竞赛知识点"
date: 2022-03-03T21:37:05+08:00
tags : [

]
categories : [

]
series : []
aliases : []
draft: false
---

# 数据初探
1. 对数据进行分析
   1. 单变量可视化分析
   2. 多变量可视化分析
   3. 降维分析
2. 在这个阶段需要注意的点：
   1. 数据基本情况
      1. 数据大小，字段类型
      2. 是否存在时序信息。（时序信息通常需要相关性、趋势性、周期性和异常点的分析）
   2. 特征情况
      1. 特征的重复值、缺失值、异常值。
      2. 特征的冗余情况
      3. 特征分布情况（单变量分布，多变量分布
   3. 标签
      1. 标签分布（类别不平衡）、回归标签的异常值
      2. 训练、测试集的分布

## 变量分析

### 单变量分析

1. 查看变量的分布情况。
   1. 分析标签
      1. 目的：尽量去除异常值，转换分布到适合学习的分布（正态分布)
      2. 手段：取log
   2. 连续性：
      1. 查看变量分布和相关性
      2. 正相关：一个特征的增加导致另一个特征增加，则为正相关。
      3. 负相关：一个特征的增加导致另一个特征的减少，则为负相关。
      4. 多重共线性的特征是冗余的，要尽量剔除这些特征。
   3. 类别型
      1. 找到和标签有强相关的特征，围绕这些特征展开交叉组合。（强相关加强相关，弱相关加弱相关等）

### 多变量分析
1. 分析多个变量的强相关性，可以选择细化描述（组合房屋位置和房屋评分），来构造更细致的特征
   
## 模型分析

1. 模型学习曲线
2. 特征重要性分析
3. 误差分析。

# 特征工程

## 数据预处理

1. 缺失值处理
   1. 区分缺失值：存在形式：None，空，特殊值（-1，-999）
   2. 处理方法：
      1. 类别特征：进行填充众数、填充新类
      2. 数值特征：填充平均数、中位数、众数、最大值、最小值
      3. 有序数据：next、previous
      4. 模型预测填充：对含有缺失值的那一列进行建模并预测。
2. 异常值处理
   1. 寻找异常值
      1. 可视化分析
      2. 数据统计来发现异常值。（四分位箱线图）
   2. 处理异常值
      1. 删除异常值记录
      2. 视为缺失值进行处理
      3. 不处理。（部分异常值可能是对真实情况的记录，直接挖掘可能会保留最真实的信息）
3. 内存优化
   1. 内存优化：清楚不用的变量，使用gc.collect()手动回收
   2. 数值优化：数据重新变量，连续性转为整型

## 特征变换

1. 连续变量无量纲化
   1. 归一化（区间缩放，数据不是正态分布时使用）：min-max归一化：$x=\frac{x-x_{min}}{x_{max}-x_{min}}$
   2. 标准化（数据为正态分布时）（又称z-scores, 零均值）
   3. 倾斜数据变为正态分布：log变换。
   4. 自动正态分布变换：cbox-cox(竞赛不常用)
2. 连续变量离散化
   1. 离散化的变量有很强的健壮性。
   2. 无监督离散化
      1. 等频。每个区间的数量大致相等。将原有分布改为了均匀分布。
      2. 等距。从最小到最大，分为N等份。保持了原有的分布
   3. 有监督离散化
      1. GBDT+LR训练多棵树，用多棵树的叶子节点作为特征的编码
3. 类别特征转换
   1. 自然数编码：类别特征存在顺序关系。可以为每个特征分布一个编号（从小到大）
   2. 独热编码。类别特征没有顺序关系。
4. 不规则特征变换
   1. 有些特征拥有丰富含义，应当考虑更多操作。如身份证信息。

## 特征提取

创造更多特征。很多模型，如决策树模型，难以提取到特征之间的组合效应。组合特征可以显示表达这种效应。以这种思想去创造特征。

1. 类别相关特征
   1. 目标编码。为目标变量（标签）的统计量对类别特征进行编码。注意不能泄露验证集信息，验证集的信息应该在训练集上完成。
      1. 方法：分类问题，统计正负样本个数。回归问题统计目标均值、中位数等。
   2. 目标编码对类别数量少（基数较低）的类别特征很有效，相当于引入了特征的增益信息（决策树中的概念）。对基数较高的类别特征，可能会有过拟合的风险。
   3. count、nunique、ratio特征。
   4. 类别特征之间的交叉组合
      1. 方法：类别特征的笛卡尔积。
      2. 方式：从业务逻辑方面入手，（年龄和性别可以组合）。从类别基数判断（类别基数太大，很多类只会出现一次，没必要组合）
2. 连续特征（数值特征）的统计特征
   1. 数值特征之间的交叉组合。（如房屋每平方米均价等）
   2. 类别特征和数之特征的组合。（某个类别当中，数值特征的统计量）
   3. 按行进行统计。统计0、均值、中位数个数等等。
3. 时间特征
   1. 细化到年、月、日、小时、分钟等
   2. 根据地理源调整
   3. 构造时间差异特征。
4. 多值特征
   1. 一列特征包含多个属性的情况。
   2. 通常稀疏化、向量化。比如文本分词，进一步tf-idf,lda等。

## 特征选择

从数据中识别并删除不需要、不相关以及冗余特征。

1. 先验特征关联分析
   1. 考虑特征和标签的关联，特征和特征之间的关联。
   2. 方法：
      1. 皮尔逊相关系数、卡方检验、互信息法、信息增益
2. 后验特征重要性分析（决策树中）
   1. weight：计算特征再所有树种被选为分裂特征的次数。
   2. gain：平均增益。特征在所有树种作为分裂节点的信息增益之和除以该特征出现的频次
   3. cover：特征对每棵树的覆盖率。即样本分到该特征节点的样本的二阶导数之和。特征度量是平均覆盖率。
   4. 技巧：
      1. 不会导致过拟合的话，选择重要程度高的特征进行分析、扩展
      2. 重要性低的特征，可以考虑移除。
3. 封装方法
   1. 比较耗时的特征选择方法
   2. 启发式：
      1. 前向搜索、后向搜索
   3. 递归消除特征
   4. null importance
      1. 将特征和正确的标签送入模型训练，得到一个特征重要性分数
      2. 将特坏着呢给和打乱后的标签送入，得到一个特征重要性分数。如果前者没有超过后者。则该特征是一个无用特征。


# 用户画像

1. 给用户打标签
   1. 事实类标签。性别年龄等。归纳统计。
   2. 规则类标签。如用户行为、用户偏好等。使用逻辑条件进行统计分析。
   3. 模型类分析。预测用户状态、用户信用分、划分兴趣人群等。

# 其他
1. 相似度计算方法
   1. 欧氏距离
   2. 余弦相似度:$cos\theta = \frac{\sum_{i=1}^{n}(a_i*b_i)}{\sqrt{\sum_{i=1}^{n}a_i^2}*\sqrt{\sum_{i=1}^{n}b_i^2}}$
   3. jaccard相似度:评价两个集和的差异大小。交集/总集
   4. 皮尔逊相似系数
   5. 修正余弦相似度
   6. 汉明距离
   7. 曼哈顿距离
   8. 莱温斯坦距离。

